<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Gambler - Hacking and other stuffs</title>
    <meta name="description" content="Posts about hacking, coding and other stuffs" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <!-- Customisation  -->
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />

</head>
<body class="home-template">

    <header class="main-header no-cover">
    <nav class="main-nav overlay clearfix">
            
        <a class="subscribe-button icon-feed" href="/feed.xml">Subscribe</a>
    </nav>
    <div class="vertical">
        <div class="main-header-content inner">
            <h1 class="page-title">Gambler</h1>
            <h2 class="page-description">
                 Hacking and other stuffs. 
                 <a href='/about.html'> whoami </a> 
            </h2>
        </div>
    </div>
    <a class="scroll-down icon-arrow-left" href="#content" data-offset="-45"><span class="hidden">Scroll Down</span></a>
</header>


<main id="content" class="content" role="main">


    <div class="extra-pagination inner">
        <nav class="pagination" role="pagination">
    
    <span class="page-number"> Page 1 of 1 </span>
     
</nav>
    </div>

    

    <article class="post">
        <header class="post-header">
            <h2 class="post-title"><a href="/rce/2018/12/14/hosting-payloads-on-youtube.html">Hosting payloads on Youtube</a></h2>
        </header>
        <section class="post-excerpt">
            <h4 id="why-that">Why that?</h4>
<p>It’s a trick created during a red team mission, where we have a rubber ducky, which will download a bash script to run the <a href="https://github.com/mthbernardes/GTRS">GTRS</a> on the victm machine, but we have problem, the traffic with the C2 will be safe using the <a href="https://github.com/mthbernardes/GTRS">GTRS</a>, but the infected machine need to talk directly to the C2 to get our payload, so we had the idea to use Youtube to host our bash payload.</p>

 <a class="read-more" href="/rce/2018/12/14/hosting-payloads-on-youtube.html">&raquo;</a>
        </section>
        <footer class="post-meta">
            
                <img class="author-thumb" src="/assets/images/profile.png" alt="Author's profile picture" nopin="nopin" />
                Matheus Bernardes
            
            
                on RCE
            
            <time class="post-date" datetime="2018-12-14">
                14 Dec 2018
            </time>
        </footer>
    </article>

    

    <article class="post">
        <header class="post-header">
            <h2 class="post-title"><a href="/rce/2018/03/14/abusing-h2-database-alias.html">Abusing H2 Database ALIAS</a></h2>
        </header>
        <section class="post-excerpt">
            <h4 id="how-to-get-a-shell-on-a-h2-database-using-alias-feature">How to get a shell on a H2 Database, using ALIAS feature.</h4>
<p>Today I was introduced to <a href="http://www.h2database.com">H2 Database</a>, a in-memory and pure Java Database, because it’s a in-memory database, the developers use it most to learning, unit tests and poc’s, but you can learn more about it on H2 <a href="2018-03-14-abusing-h2-database-alias.markdown">site</a>.</p>

 <a class="read-more" href="/rce/2018/03/14/abusing-h2-database-alias.html">&raquo;</a>
        </section>
        <footer class="post-meta">
            
                <img class="author-thumb" src="/assets/images/profile.png" alt="Author's profile picture" nopin="nopin" />
                Matheus Bernardes
            
            
                on RCE
            
            <time class="post-date" datetime="2018-03-14">
                14 Mar 2018
            </time>
        </footer>
    </article>

    

    <article class="post">
        <header class="post-header">
            <h2 class="post-title"><a href="/persistence/2018/03/02/hacking-into-NET-router-for-fun-and-profit.html">Hacking into NET router for fun and profit [FULL DISCLOSURE]</a></h2>
        </header>
        <section class="post-excerpt">
            <h4 id="hacking-into-net-router-for-fun-and-profit-full-disclosure">Hacking into NET router for fun and profit [FULL DISCLOSURE]</h4>
<p>Recently I moved to another city to live alone, and as needed I contract the only ISP available on my building, NET, one of the worst ISP on Brazil, they just decided to block all my output connections on port 22/ssh, but it’s another history.</p>

 <a class="read-more" href="/persistence/2018/03/02/hacking-into-NET-router-for-fun-and-profit.html">&raquo;</a>
        </section>
        <footer class="post-meta">
            
                <img class="author-thumb" src="/assets/images/profile.png" alt="Author's profile picture" nopin="nopin" />
                Matheus Bernardes
            
            
                on Persistence
            
            <time class="post-date" datetime="2018-03-02">
                02 Mar 2018
            </time>
        </footer>
    </article>

    

    <article class="post">
        <header class="post-header">
            <h2 class="post-title"><a href="/persistence/2018/02/10/stealing-ssh-credentials-another-approach.html">Stealing SSH credentials Another Approach.</a></h2>
        </header>
        <section class="post-excerpt">
            <h4 id="stealing-ssh-credentials-another-approach">Stealing SSH credentials Another Approach.</h4>
<p>Recently I posted how to get ssh password using strace, but it’s no 100% effective, because the strace output changes on different distros, so searching for another approach I found this site <a href="http://www.chokepoint.net/2014/01/more-fun-with-pam-python-failed.html">ChokePoint</a> where they show how to create a PAM module using python to log failed attempts on ssh, now all I have to do, was change where they log the password.
Original script, use the function auth_log when the login failed.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python">    <span class="k">if</span> <span class="ow">not</span> <span class="n">check_pw</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">resp</span><span class="o">.</span><span class="n">resp</span><span class="p">):</span>
        <span class="n">auth_log</span><span class="p">(</span><span class="s">"Remote Host: </span><span class="si">%</span><span class="s">s (</span><span class="si">%</span><span class="s">s:</span><span class="si">%</span><span class="s">s)"</span> <span class="o">%</span> <span class="p">(</span><span class="n">pamh</span><span class="o">.</span><span class="n">rhost</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">resp</span><span class="o">.</span><span class="n">resp</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">pamh</span><span class="o">.</span><span class="n">PAM_AUTH_ERR</span>
     <span class="k">return</span> <span class="n">pamh</span><span class="o">.</span><span class="n">PAM_SUCCESS</span></code></pre></figure>

 <a class="read-more" href="/persistence/2018/02/10/stealing-ssh-credentials-another-approach.html">&raquo;</a>
        </section>
        <footer class="post-meta">
            
                <img class="author-thumb" src="/assets/images/profile.png" alt="Author's profile picture" nopin="nopin" />
                Matheus Bernardes
            
            
                on Persistence
            
            <time class="post-date" datetime="2018-02-10">
                10 Feb 2018
            </time>
        </footer>
    </article>

    

    <article class="post">
        <header class="post-header">
            <h2 class="post-title"><a href="/persistence/2018/01/10/stealing-ssh-credentials.html">Stealing SSH credentials.</a></h2>
        </header>
        <section class="post-excerpt">
            <h4 id="ok-i-became-root-what-can-i-do-now">Ok I became root what can I do now?.</h4>
<p>BEFORE ALL, it’s an old trick, but all the tutorials that I found didn’t work for me, so I just wrote my own :).
Sometimes when you get root access to a server or a workstation, you don’t really have the root password, sometimes you just exploit the server, and got id 0, what can I do in this case?</p>

 <a class="read-more" href="/persistence/2018/01/10/stealing-ssh-credentials.html">&raquo;</a>
        </section>
        <footer class="post-meta">
            
                <img class="author-thumb" src="/assets/images/profile.png" alt="Author's profile picture" nopin="nopin" />
                Matheus Bernardes
            
            
                on Persistence
            
            <time class="post-date" datetime="2018-01-10">
                10 Jan 2018
            </time>
        </footer>
    </article>

    

    <article class="post">
        <header class="post-header">
            <h2 class="post-title"><a href="/web/2017/12/07/Test-XSS-with-no-access-to-response.html">Testing XSS in places where you can't see.</a></h2>
        </header>
        <section class="post-excerpt">
            <h4 id="the-problem">The problem</h4>
<p>It’s common to you find XSS vulnerabilities during an web pentests, but some times, you’re testing an application that contains more then one interface, like user interface and admin interface, so how you can test for xss on the admin interface being just a regular user? Well it’s kind of simple, but it’s not a test to find all the xss on the admin page, for example, when you register on an application, there’s some informations you provide, like, name, address, bio and other things, so we can assume that the admin interface can read this informations, so we can just send XSS payloads, to try to get a XSS exploration, but not a payload like the most common,</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script&gt;</span><span class="nx">alert</span><span class="p">(</span><span class="s1">'XSS'</span><span class="p">)</span><span class="nt">&lt;/script&gt;</span></code></pre></figure>

 <a class="read-more" href="/web/2017/12/07/Test-XSS-with-no-access-to-response.html">&raquo;</a>
        </section>
        <footer class="post-meta">
            
                <img class="author-thumb" src="/assets/images/profile.png" alt="Author's profile picture" nopin="nopin" />
                Matheus Bernardes
            
            
                on Web
            
            <time class="post-date" datetime="2017-12-07">
                07 Dec 2017
            </time>
        </footer>
    </article>

    

    <article class="post">
        <header class="post-header">
            <h2 class="post-title"><a href="/conference/2017/10/07/BWCON-2017.html">BWCON 2017[pt-BR]</a></h2>
        </header>
        <section class="post-excerpt">
            <h4 id="bwcon-2017---phishing-a-sh3ll">BWCON 2017 - Phishing a Sh3ll</h4>
<p>Esse ano pela primeira vez fui para Recife, e palestrei na BWCON evento organizado pelo mestre @Toronto com patrocínio da Tempest e da El Pescador, um evento sinistro, galera com alto nível técnico.
Minha talk foi sobre Bypass de AV com VBA + Powershell, uma parada simples, mas que pode salvar ai em alguns projetos onde a única porta de entrada para a rede do cliente vai ser o phishing.
Vou deixar aqui então o link do ppt(Gdrive) e os videos da PoC.</p>

 <a class="read-more" href="/conference/2017/10/07/BWCON-2017.html">&raquo;</a>
        </section>
        <footer class="post-meta">
            
                <img class="author-thumb" src="/assets/images/profile.png" alt="Author's profile picture" nopin="nopin" />
                Matheus Bernardes
            
            
                on Conference
            
            <time class="post-date" datetime="2017-10-07">
                07 Oct 2017
            </time>
        </footer>
    </article>

    

    <article class="post">
        <header class="post-header">
            <h2 class="post-title"><a href="/mobile/2017/09/17/extract-apk-no-root-android.html">Extract apk from a non root Android</a></h2>
        </header>
        <section class="post-excerpt">
            <p>When your device is not rooted, and you want to analyse some app, you can’t just pull the application apk from it, so to do that, I use this trick.</p>

 <a class="read-more" href="/mobile/2017/09/17/extract-apk-no-root-android.html">&raquo;</a>
        </section>
        <footer class="post-meta">
            
                <img class="author-thumb" src="/assets/images/profile.png" alt="Author's profile picture" nopin="nopin" />
                Matheus Bernardes
            
            
                on Mobile
            
            <time class="post-date" datetime="2017-09-17">
                17 Sep 2017
            </time>
        </footer>
    </article>

    

    <article class="post">
        <header class="post-header">
            <h2 class="post-title"><a href="/mobile/2017/09/17/first-step-to-create-a-wifi-wordlist.html">First step to create a wifi wordlist</a></h2>
        </header>
        <section class="post-excerpt">
            <p>You can find on the internet various wordlists focused on cracking wifi passwords, but it’s not the best wordlists to use in Brazil, so what about get some real brazilian passwords? There is an app called <a href="http://wifimagic.com/" target="_blank">MandicMagic</a>, it’s a social network, where the users save password of wifi network that they use or used sometime, well here is our honeypot, we just need to intercept the requests and try to discover how the app works.
In my first attempt I failed, because all the requests made by the app are pinned, but thanks to  <a href="https://github.com/ac-pm/Inspeckage" target="_blank">Inspeckage</a> was really easy to bypass it, the Inspeckage hooks the pinning function, I’ve just followed the tutorial of how to use <a href="https://acpm.mobi/genymotion-xposed-inspeckage/" target="_blank">Genymotion + Inspeckage + Xposed</a> and intercept all the app requests.</p>

 <a class="read-more" href="/mobile/2017/09/17/first-step-to-create-a-wifi-wordlist.html">&raquo;</a>
        </section>
        <footer class="post-meta">
            
                <img class="author-thumb" src="/assets/images/profile.png" alt="Author's profile picture" nopin="nopin" />
                Matheus Bernardes
            
            
                on Mobile
            
            <time class="post-date" datetime="2017-09-17">
                17 Sep 2017
            </time>
        </footer>
    </article>

    

    <article class="post">
        <header class="post-header">
            <h2 class="post-title"><a href="/reversing/2017/09/16/simple-x86-shellcode.html">Creating a simple x86 shellcode</a></h2>
        </header>
        <section class="post-excerpt">
            <p>It’s a simple x86 shellcode to call /bin/sh, but the first thing is understand how the sys_execve works, to do so you can access this <a href="https://syscalls.kernelgrok.com/" target="_blank">site</a> that gives to you a list with all the x86 syscalls, and the values you need to put in each register, just search for sys_execve.</p>

 <a class="read-more" href="/reversing/2017/09/16/simple-x86-shellcode.html">&raquo;</a>
        </section>
        <footer class="post-meta">
            
                <img class="author-thumb" src="/assets/images/profile.png" alt="Author's profile picture" nopin="nopin" />
                Matheus Bernardes
            
            
                on Reversing
            
            <time class="post-date" datetime="2017-09-16">
                16 Sep 2017
            </time>
        </footer>
    </article>

    

    <article class="post">
        <header class="post-header">
            <h2 class="post-title"><a href="/reversing/2017/08/12/GCL17-SRI-LANKA-AND-AUSTRIA.html">Write Up GCL17 - SRI LANKA and AUSTRIA</a></h2>
        </header>
        <section class="post-excerpt">
            <h4 id="sri-lanka">SRI LANKA</h4>
<p>The first thing to do is to run the “file” command, which will indicate that the file is an elf32. After that the binary was analyzed on r2 and I ended up realizing that I forgot to do the most simple and obvious thing as I am certified SGSE ( Strings grep Specialist Engineer), so I just executed the following command:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">strings <span class="nt">-e</span> s c9c18a2c3f65bb8d1f6133765889774a1224cbe993edcc1641275be12b29b10a | less</code></pre></figure>

 <a class="read-more" href="/reversing/2017/08/12/GCL17-SRI-LANKA-AND-AUSTRIA.html">&raquo;</a>
        </section>
        <footer class="post-meta">
            
                <img class="author-thumb" src="/assets/images/profile.png" alt="Author's profile picture" nopin="nopin" />
                Matheus Bernardes
            
            
                on Reversing
            
            <time class="post-date" datetime="2017-08-12">
                12 Aug 2017
            </time>
        </footer>
    </article>

    

    <nav class="pagination" role="pagination">
    
    <span class="page-number"> Page 1 of 1 </span>
     
</nav>

</main>


    <footer class="site-footer clearfix">
      <section class="copyright">
        <a href="/">Gambler</a> &copy;
              2018 &bull; All rights reserved.
      </section>
      <section class="poweredby">Made with Jekyll using
        <a href="http://github.com/rosario/kasper">Kasper theme</a>
      </section>
    </footer>

    <script type="text/javascript" src="/assets/js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Google Analytics Tracking code -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-68962388-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
</body>
</html>
